<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yan Zhang — Moiré & vdW Materials</title>
  <meta name="description" content="Yan Zhang (IOPCAS) — moiré/twisted vdW materials, continuum models, TAPW, topological analysis." />
  <meta name="color-scheme" content="light dark" />
  <style>
  :root{
    /* Dark (default) */
    --bg:#0b1020; --bg-soft:#0f172a; --text:#e6eaf2; --muted:#b9c3d6;
    --card: #0b1220cc; --ring:#223047; --brand:#7dd3fc; --brand-2:#60a5fa; --accent:#a78bfa;
  }
  [data-theme="light"]{
    --bg:#f8fafc; --bg-soft:#ffffff; --text:#0f172a; --muted:#475569;
    --card:#ffffffcc; --ring:#e2e8f0; --brand:#0ea5e9; --brand-2:#6366f1; --accent:#7c3aed;
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0; font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
    color:var(--text);
    background:
      radial-gradient(1200px 800px at 20% -10%, #1f2937 0%, transparent 60%),
      radial-gradient(1000px 700px at 120% -20%, #0ea5e9 0%, transparent 45%),
      var(--bg);
    transition: background-color .25s, color .25s;
  }
  [data-theme="light"] body{
    background:
      radial-gradient(1000px 700px at -10% -20%, #e0f2fe 0%, transparent 55%),
      radial-gradient(900px 600px at 120% -30%, #ede9fe 0%, transparent 45%),
      var(--bg);
  }
  .wrap{max-width:1100px; margin:0 auto; padding:32px 16px}
  header.hero{
    padding:72px 0 56px; position:relative; overflow:hidden;
    border-bottom:1px solid var(--ring);
    background: linear-gradient(135deg, color-mix(in oklab, var(--brand) 15%, transparent) 0%, color-mix(in oklab, var(--accent) 12%, transparent) 100%);
  }
  .brand{font-weight:800; font-size:clamp(28px,5vw,40px); letter-spacing:.3px}
  .tagline{color:var(--muted); font-size:clamp(14px,2.6vw,18px)}
  nav{display:flex; gap:12px; flex-wrap:wrap; margin-top:18px; align-items:center}
  nav a{color:var(--text); text-decoration:none; padding:8px 12px; border:1px solid var(--ring); border-radius:999px; backdrop-filter:saturate(120%);}
  nav a:hover{border-color:color-mix(in oklab, var(--ring) 50%, var(--brand)); background:color-mix(in oklab, var(--bg-soft) 80%, var(--brand) 20%)}

  .theme-toggle{width:40px;height:40px;display:grid;place-items:center;border-radius:999px;border:1px solid var(--ring);background:color-mix(in oklab, var(--bg-soft) 85%, #0000 15%);cursor:pointer;user-select:none}
  .theme-toggle:hover{border-color:color-mix(in oklab, var(--ring) 40%, var(--brand));}
  .theme-toggle .sun,.theme-toggle .moon{font-size:18px;line-height:1}
  [data-theme="light"] .theme-toggle .sun{display:inline}
  [data-theme="light"] .theme-toggle .moon{display:none}
  .theme-toggle .sun{display:none}
  .theme-toggle .moon{display:inline}
  .top-right{position:absolute; top:18px; right:16px}

  .grid{display:grid; gap:18px}
  @media (min-width:768px){ .grid.cols-2{grid-template-columns:1fr 1fr} }

  section{padding:44px 0; border-bottom:1px solid var(--ring)}
  h2{font-size:clamp(22px,3.5vw,28px); margin:0 0 12px}
  p{margin:6px 0}

  .card{
    background: linear-gradient(var(--card), var(--card)) padding-box,
               linear-gradient(180deg, color-mix(in oklab, var(--brand) 15%, transparent), transparent) border-box;
    border:1px solid transparent; border-radius:20px; padding:18px;
    box-shadow:0 10px 28px rgba(2,6,23,.35);
    transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
  }
  .card:hover{transform:translateY(-2px); box-shadow:0 18px 36px rgba(2,6,23,.45)}
  .card h3{margin:0 0 8px; font-size:18px}
  .card p{color:var(--muted)}

  .btn{display:inline-block; padding:10px 14px; border-radius:12px; text-decoration:none; color:#06121f; background:linear-gradient(90deg, var(--brand), var(--brand-2)); font-weight:700}
  .btn.ghost{background:transparent; color:var(--text); border:1px solid var(--ring)}
  .pill{color:#06121f; background:#a7f3d0; padding:4px 8px; border-radius:999px; font-size:12px; font-weight:700}
  footer{padding:36px 0; color:var(--muted)}
  .muted{color:var(--muted)}
  .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
  a{color:var(--brand-2)}
</style>
</head>
<body>
  <header class="hero">
    <div class="wrap">
      <div class="brand">Yan Zhang</div>
      <div class="tagline">Moiré / twisted vdW materials · Continuum/TAPW · Topological analysis · IOPCAS</div>
      <nav>
  <a href="#about">关于</a>
  <a href="#demos">项目</a>
  <a href="#contact">联系</a>
  <a class="btn" href="https://github.com/zhangyan31415" target="_blank" rel="noopener">GitHub →</a>
</nav>
<button id="themeToggle" class="theme-toggle top-right" title="切换明暗" aria-label="切换明暗" aria-pressed="false"><span class="sun">🌞</span><span class="moon">🌛</span></button>
    </div>
  </header>

  <main class="wrap">
    <section id="about">
      <h2>关于我</h2>
      <p>专注于扭转/摩尔范德华材料与拓扑分析。此页仅作名片与入口。</p>    </section><section id="demos">
      <h2>项目体验</h2>
      <p class="muted" style="margin-top:-6px">提示：点击下方「打开项目」后会跳转到临时通道链接；该链接<strong>可能变更</strong>。若无法打开，请刷新本页或稍后再试。</p>
      <div class="stack" style="display:flex; flex-direction:column; gap:16px; margin-top:16px">
        <article class="card">
          <h3 style="display:flex;align-items:center;gap:8px">TAPW Band Viewer <span class="pill">实时</span></h3>
          <p class="muted">基于 TAPW/连续模型的能带与拓扑可视化。</p>
          <p style="margin:10px 0 14px;display:flex;gap:10px;flex-wrap:wrap">
            <a class="btn" href="https://barn-responding-christine-respect.trycloudflare.com/" target="_blank" rel="noopener">🔗 打开项目</a>
            <button class="btn ghost preview-btn" data-target="#frame-band" data-src="https://barn-responding-christine-respect.trycloudflare.com/" type="button">在页面内预览</button>
          </p>
          <p class="muted" style="margin:6px 0 0">打开项目后跳转的链接为临时通道，可能会更新。</p>
          <div id="frame-band" class="embed" style="display:none">
            <iframe title="Band Viewer" style="width:100%;height:60vh;border:1px solid #1f2937;border-radius:12px;background:#0b1220" loading="lazy" referrerpolicy="no-referrer"></iframe>
          </div>
        </article>

        <article class="card">
          <h3 style="display:flex;align-items:center;gap:8px">Nano 服务器监控 <span class="pill">监控</span></h3>
          <p class="muted">轻量监控面板：状态/资源/告警。</p>
          <p style="margin:10px 0 14px;display:flex;gap:10px;flex-wrap:wrap">
            <a class="btn" href="https://export-discharge-brian-medicine.trycloudflare.com/" target="_blank" rel="noopener">🔗 打开项目</a>
            <button class="btn ghost preview-btn" data-target="#frame-nano" data-src="https://export-discharge-brian-medicine.trycloudflare.com/" type="button">在页面内预览</button>
          </p>
          <p class="muted" style="margin:6px 0 0">打开项目后跳转的链接为临时通道，可能会更新。</p>
          <div id="frame-nano" class="embed" style="display:none">
            <iframe title="Nano Monitor" style="width:100%;height:60vh;border:1px solid #1f2937;border-radius:12px;background:#0b1220" loading="lazy" referrerpolicy="no-referrer"></iframe>
          </div>
        </article>
      </div>
    </section>

    <section id="contact">
      <h2>联系</h2>
      <p>GitHub：<a href="https://github.com/zhangyan31415" target="_blank" rel="noopener">@zhangyan31415</a></p>
      <p>邮箱：<span class="muted">（可在此填写你的邮件地址或联系信息）</span></p>
    </section>
  </main>

  <footer>
    <div class="wrap muted">© <span id="y"></span> Yan Zhang · Built with GitHub Pages</div>
  </footer>

  <script>
  // ---------- 主题切换（太阳 / 月亮） ----------
(function(){
  const root = document.documentElement;
  const btn = document.getElementById('themeToggle');
  const sysDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  const saved = localStorage.getItem('theme');
  const init = saved || (sysDark ? 'dark':'light');
  root.setAttribute('data-theme', init);
  if(btn){ btn.setAttribute('aria-pressed', init==='dark'); }
  if(btn){ btn.addEventListener('click', ()=>{
    const cur = root.getAttribute('data-theme')==='dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', cur);
    localStorage.setItem('theme', cur);
    btn.setAttribute('aria-pressed', cur==='dark');
  }); }
})();

  // ---------- 预览按钮懒加载 / 折叠 ----------
  document.querySelectorAll('.preview-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const wrap = document.querySelector(btn.dataset.target);
      const frame = wrap.querySelector('iframe');
      if(wrap.style.display==='none' || !wrap.style.display){
        if(!frame.src){ frame.src = btn.dataset.src; }
        wrap.style.display='block'; btn.textContent='收起预览';
      }else{ wrap.style.display='none'; btn.textContent='在页面内预览'; }
    });
  });

  // ---------- URL 参数覆盖 Quick Tunnel 地址 ----------
  const u = new URLSearchParams(location.search);
  const band = u.get('band');
  const nano = u.get('nano');
  if(band){
    const a = document.querySelector('a[href^="https://barn-responding-christine-respect"]');
    const b = document.querySelector('button[data-target="#frame-band"]');
    if(a) a.href = band; if(b) b.dataset.src = band;
  }
  if(nano){
    const a = document.querySelector('a[href^="https://export-discharge-brian-medicine"]');
    const b = document.querySelector('button[data-target="#frame-nano"]');
    if(a) a.href = nano; if(b) b.dataset.src = nano;
  }
</script>
</body>
</html>
